<!DOCTYPE html>

<html lang="ru">
<head>
<script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
<meta charset="utf-8"/>
<title>Урок 50 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>
<style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
<h1>LIÇÃO 50</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Texto da Lição</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Visão normal
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>
<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "秦王度之終不可強奪遂許齋五日舍",
    "相如廣成傳舍相如度秦王雖齋決負",
    "約不償城乃使其從者衣褐懷其璧從",
    "徑道亡歸璧於趙秦王齋五日後乃設",
    "九賓禮於廷引趙使者藺相如相如至",
    "謂秦王曰秦自繆公以來二十餘君未",
    "嘗有堅明約束者也臣誠恐見欺於王",
    "而負趙故令人持璧歸間至趙矣且秦",
    "強而趙弱大王遣一介之使至趙趙立",
    "奉璧來今以秦之強而先割十五都予",
    "趙趙豈敢留璧而得罪於大王乎臣知",
    "欺大王之罪當誅臣請就湯鑊唯大王",
    "與群臣熟計議之秦王與群臣相視而",
    "嘻左右或欲引相如去秦王因曰今殺",
    "相如終不能得璧也而絶秦趙之歡不",
    "如因而厚遇之使歸趙趙王豈以一璧",
    "之故欺秦邪卒廷見相如畢禮而歸之",
    "相如既歸趙王以爲賢大夫使不辱於",
    "諸侯拜相如爲上大夫秦亦不以城予",
    "趙趙亦終不予秦璧"
];
// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>COMENTÁRIO DE GRAMÁTICA</h2>
<h3>50.1. Um modificador adverbial de tempo expresso pela construção
com a palavra 後 hòu</h3>
<p class="original">
Assim como na construção com a palavra 時 shí (48.2), 後
hòu pode ser precedido por um substantivo, uma frase nominal ou uma frase predicativa:
<br/>
<span class="example">王齋五日後 wáng zhāi wǔ rì hòu "depois que o rei jejuou por cinco dias."</span>
</p>
<h3>50.2. Predicativos Adicionais Significado
Direção do Movimento (continuação)
<p class="original">
Acima (44.3), vimos que o predicativo 來 lái, anexado a outro predicativo com um objeto, serve para indicar a direção do movimento em direção ao falante: <span class="example">趙立奉璧來 zhào lì f èng bì lái "Zhao entregará imediatamente o jaspe."</span>
<br/>
Em contraste com 來 lái, o predicativo 去 qù indica a direção oposta — para longe do falante: <span class="example">左右或欲引相如去 zuǒ yòu huò yù yǐn xiàng rú qù "Alguém da comitiva queria levar [Lin] Xiangru away."</span>
</p>
<h3>50.3. Uma construção como 從...以往 cóng... yǐ wǎng
(continuação)</h3>
<p class="original">
Esta construção pode denotar movimento a partir de um ponto específico
não apenas no espaço, mas também no tempo.
<br/><br/>
No texto desta lição, é usada no segundo significado. O ponto de partida é introduzido aqui pela preposição 自 zì, e a direção é indicada pelo predicativo 來 lái (em direção ao falante): <span class="example">自繆公以來二十餘君 zì miào gōng yǐ lái èr shí yú jūn "os vinte e poucos governantes, começando com Miao Gong."</span>
</p>
<h3>50.4. Advérbios (continuação)</h3>
<p class="original">
Esta lição utiliza vários outros advérbios típicos do chinês clássico, que têm significados semelhantes. <br/><br/>
卒 cù é usado em dois significados principais: "rapidamente", "imediatamente" e "eventualmente", "em última análise":
lì yě "Mas no final das contas, o estado de Chu foi derrotado
pelos esforços desses três homens."
<br/>
<span class="example">傾側擾攘楚魏之間,卒歸高帝 qīng cè rǎo rǎng chǔ
wèi zhī jiān, cù guī gāo dì "Ele oscilou entre Chu e Wei e, por fim, passou para o lado de Gao-di."
<br/><br/>
Encontramos 終 zhōng em combinação com 不 bù (終不 zhōng bù
"nunca..."). Por si só, este advérbio tem o mesmo significado que 卒 cù, "no final":
<br/>
<span class="example">終必獲鄭,何必今日 zhōng bì huò zhèng, hé bì j īn rì "Com certeza capturaremos Zheng no final, por que temos que fazer isso
hoje?"</span> 立 lì é sinônimo de 卒 cù em seu primeiro significado, "imediatamente":
<br/>
<span class="example">劍堅,故不可立拔 jiàn jiān gù bù kě lì bá "A espada ficou presa
na bainha, então não pôde ser desembainhada imediatamente."</span>
<br/>
<span class="example">我有善則立譽我,我有過則立毀我 wǒ yǒu shàn zé lì yù wǒ, wǒ yǒu guò zé lì huǐ wǒ "Se eu fizer algo de bom, elogie-me imediatamente, e se eu cometer um erro, me repreenda por isso imediatamente."</span>
</span></p>
<h3>50,5. A frase 因而 yīn ér</h3>
<p class="original">
Foi observado acima (44.5) que na linguagem clássica tardia,
a palavra 而 ér pode combinar um predicado e um objeto direto com uma preposição. Mas o complemento com a preposição 因 yīn pode
ser omitido, deixando apenas 因 yīn em seu lugar. Isso dá origem à
<br/><br/>
possibilidade de comparar as palavras 因 yīn e 而 ér, que gradualmente se desenvolvem na frase 因而 yīn ér com
o significado "como resultado disso", "por esta razão":
<br/>
<span class="example">俗之所欲因而與之 sú zhī suǒ yù yīn ér yǔ zhī "Portanto,
dê o que geralmente é considerado desejável."</span>
</p>
</h3></div>
<h2>LISTA DE VOCABULÁRIO DA LIÇÃO</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>

<div class="lexicon">
<h2>COMENTÁRIO LEXICO</h2>
<h3>50.A. "Jejum de Cinco Dias"</h3>
<p class="original">
Antes de realizar qualquer ato cerimonial, um governante na China antiga normalmente jejuava por um
<br/><br/>
determinado período de tempo, abstendo-se de iguarias e vinho. "Após o jejum e a lavagem, pode-se fazer sacrifícios ao Senhor Supremo", dizia
Mêncio.
</p>
<h3>50.B. "Ritual dos Nove Convidados"</h3>
<p class="original">
Não está totalmente claro o que exatamente significava esse termo especial na era Zhang Guo. De qualquer forma, ele denotava uma cerimônia oficial de recepção a embaixadores estrangeiros, aparentemente particularmente solene.</p>
<h3>50.B. Pousada Guangcheng
<p class="original">
Nas grandes cidades durante a era Zhangguo, havia pousadas para visitantes (傳舍 zhuàn shè, literalmente "alojamento móvel"), geralmente, como os hotéis modernos, com nomes próprios.
</p>
<h3>50.º Imperador Qin Miao Gong</h3>
<p class="original">
Não há governante com este título nas genealogias oficiais da Casa de Qin. Aparentemente, isso se refere ao Imperador Mu Gong (659–621 a.C.). O Imperador Qin Zhao Gong foi o vigésimo governante depois de Mu Gong.
<br/><br/>
Enquanto isso, Lin Xiangru fala de "mais de vinte" governantes deste reino. Aparentemente, ele inclui neste número dois gongs que ocuparam o trono apenas brevemente e posteriormente não foram incluídos na lista genealógica.
</p>
<h3>50.º Imperador Qin "Entrando em um Caldeirão Fervente"
<p class="original">
Como resultado das reformas de Shang Yang, leis extremamente severas foram introduzidas no reino Qin (meados do século IV a.C.). Em particular, aqueles que cometiam crimes particularmente graves eram jogados em um
caldeirão fervente.

</p>
<div style="text-align: center; margin: 20px 0;">
<img alt="Pena de morte (desenho medieval)" class="original" src="./img/page_6_img_1.jpeg" style="border: none; padding: 0; max-width: 100%;"/>
<p class="footer" style="margin-top: 8px; border-top: none; padding-top: 0;">Pena de morte (desenho medieval)</p>
</div>

</h3></h3></div>
<div class="assignment">
<h2>TRABALHO INDEPENDENTE</h2>
<ol>
<li>Reescreva o texto, adicionando sinais de pontuação.</li>
<li>Faça uma análise gramatical do texto.</li>
<li>Traduza o texto para o russo.</li>
<li>Quais são as características mais importantes do O que distingue a língua clássica tardia dos estágios anteriores?</li>
</ol>
</div>
<div class="footer">
Livro didático: V. A. Kryukov - Chinês Clássico Antigo Tardio.<br>
Reconstruído usando OCR, preservando o estilo do autor e adicionando pinyin.<br>
Todos os caracteres são das Lições 1 a 50 ou de caracteres cíclicos (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Visualização do Oracle';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Visão normal';
            }
        });
    });
</script>
</body>
<script id="help" src="../help.js"></script>
</html>
