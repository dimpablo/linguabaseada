<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>Урок 18 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<script src="./../dictionary.js"></script>
</head>
<body>
<h1>УРОК 18</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Texto da Lição</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
        Обычный вид
    </span>
</div>
<style>
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 30px;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    input:checked + .slider {
        background-color: #1a5fb4;
    }
    input:checked + .slider:before {
        transform: translateX(30px);
    }
</style>
<style>
    .char-tooltip {
        display: none;
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: max-content;
        max-width: 300px;
        background: #1a4f72;
        color: white;
        padding: 12px 15px;
        border-radius: 6px;
        font-size: 0.9em;
        text-align: left;
        white-space: normal;
        z-index: 100;
        box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
        line-height: 1.5;
    }
    td:hover .char-tooltip {
        display: block;
    }
    .lesson-badge {
        display: inline-block;
        background: #e6f2ff;
        color: #1a4f72;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.8em;
        margin-left: 5px;
    }

    /* Стили для правой фигурной скобки, объединяющей строки справа */
    .math-example {
        margin: 15px 0;
        display: flex;
        align-items: center;
        font-size: 0.95em;
    }
    .math-content {
        display: flex;
        flex-direction: column;
        text-align: left;
        margin-right: 12px; /* Отступ между текстом и скобкой */
    }
    .math-content .example {
        margin: 2px 0;
        white-space: pre; /* Сохраняем пробелы */
    }
    .math-brace {
        font-size: 2em; /* Большая скобка */
        line-height: 0.7;
        color: #1a4f72;
        font-family: monospace;
        font-weight: bold;
        margin: 0;
    }
    .math-caption {
        margin-left: 15px;
        font-style: italic;
        color: #1a4f72;
    }
</style>
<script>
    // Данные текста урока 18 (в полном соответствии с PDF и вашим идеалом таблицы)
    const lessonText = [
        "王大耤農于諆田場王射有司眔師氏",
        "小子合射王歸自諆田王馭溓仲僕令",
        "眔奮先馬走王曰令眔奮乃克至余其",
        "舍汝臣十家王至于溓宮陣令令拜稽",
        "首曰小子迺學令對揚王休",
        "昔饉歳匡衆厥臣二十夫寇舀禾十秭",
        "以匡季告東宮東宮乃曰求乃人乃弗",
        "得汝匡罰大匡乃稽首于舀用五田用",
        "衆一夫舀又以匡季告東宮東宮乃曰",
        "償舀十秭遺十秭為二十秭來歳弗償",
        "則付四十秭"
    ];

    // Функция для создания таблицы
    function createOracleTable() {
        const table = document.getElementById('oracleTable');
        // Создаём строку с номерами колонок
        const headerRow = document.createElement('tr');
        const emptyCell = document.createElement('td');
        emptyCell.className = 'line-num';
        headerRow.appendChild(emptyCell);
        for (let i = 1; i <= 15; i++) {
            const th = document.createElement('td');
            th.className = 'col-num';
            th.textContent = i;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Создаём строки с текстом
        for (let i = 0; i < lessonText.length; i++) {
            const row = document.createElement('tr');
            const lineNumCell = document.createElement('td');
            lineNumCell.className = 'line-num';
            lineNumCell.textContent = i + 1;
            row.appendChild(lineNumCell);

            const chars = Array.from(lessonText[i].replace(/\s+/g, ' ')).filter(ch => ch.trim() !== '');
            for (let j = 0; j < 15; j++) {
                const td = document.createElement('td');
                if (j < chars.length) {
                    const char = chars[j];
                    td.textContent = char;
                    if (charData[char]) {
                        const tooltip = document.createElement('div');
                        tooltip.className = 'char-tooltip';
                        tooltip.innerHTML = `
                            <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                            ${charData[char].meaning}<br>
                            <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                        `;
                        td.appendChild(tooltip);
                    }
                }
                row.appendChild(td);
            }
            table.appendChild(row);
        }
    }

    // Инициализация таблицы при загрузке страницы
    document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>COMENTÁRIO DE GRAMÁTICA</h2>
<h3>18.1. Técnicas de Divisão de Texto (continuação)
<p class="original">
Acima (14.1), foi mencionado que, se dois pronomes idênticos aparecem lado a lado em um texto, isso indica uma fronteira entre duas frases. Isso se explica pelo fato de que os pronomes não podem ser reduzidos. Quanto à duplicação de palavras significativas (particularmente na função nominal), isso por si só não pode indicar uma fronteira entre frases.
<br/><br/>
No entanto, os textos também contêm repetições de nomes que denotam conceitos que, em princípio, existem apenas no singular, por exemplo, <span class="example">王 wáng</span> "governante supremo" (de acordo com as crenças Zhou, só poderia haver um wang no Império Celestial). Essa repetição de uma palavra significativa pode sinalizar o limite de uma frase: <span class="example">東宮納饗于王, 王賜公貝 dōng gōng nà xiǎng yú wáng, wáng cì gōng bèi</span> "O herdeiro do trono ofereceu um presente ao rei. O rei presenteou o rei com conchas."
<br/><br/>
Assim como os pronomes, sintagmas nominais usados ​​como nomes pessoais não podem ser duplicados em chinês antigo. Portanto, a presença de dois sintagmas nominais idênticos em sequência em um texto indica que um deles é o objeto da primeira frase (podemos colocar um ponto final depois dele) e o outro é o sujeito da segunda frase: <span class="example">[...]告東宫, 東宫乃曰...[...] gào dōng gōng, dōng gōng nǎi yuē</span> "[...] informou o herdeiro. O herdeiro disse..."
</p>
<h3>18.2. A Palavra Funcional 眔 dà</h3>
<p class="original">
Na linguagem arcaica, a palavra funcional <span class="example">眔 dà</span> é usada como uma conjunção coordenativa conectando substantivos (6.3). Na língua pré-clássica inicial, <span class="example">眔 dà</span> também começou a ser usado como preposição que expressava a ideia de união (correspondendo ao "s" russo, "junto com"). Portanto, a frase "A <span class="example">眔 dà</span> B" pode ser traduzida pelo russo "A e B" ou "A junto com B", que à primeira vista parecem ser praticamente a mesma coisa. Na realidade, porém, não é o caso.
<br/><br/>
Veja, por exemplo, a seguinte frase: <span class="example">令眔奮克至 lìng dà fèn kè zhì</span>.
<br/><br/>
Ela pode ser interpretada de duas maneiras.
<br/><br/>
Primeiro, <span class="example">令眔奮 lìng dà fèn</span> pode ser interpretado como um sintagma nominal ("Ling e Fen"), que é o sujeito.
<br/><br/>
Segundo, <span class="example">眔奮 dà fèn</span> pode ser visto como um objeto indireto direto com uma preposição ("com Fen").
<br/><br/>
No primeiro caso, um dos dois componentes homogêneos do sujeito só pode ser omitido junto com o outro (omissão do sujeito); no segundo, o sujeito "Ling" pode ser omitido, e então a frase começará com um objeto invertido.
<br/><br/>
Se o predicado for formado pelo advérbio funcional <span class="example">其 qí</span> (seu significado não mudou na língua pré-clássica inicial em comparação com a língua arcaica), então o objeto indireto com preposição ocupa uma posição entre <span class="example">其 qí</span> e o predicado: <span class="example">汝其以成周師氏戍于古次 rǔ qí yǐ chéng zhōu shī shì xū yú gǔ cì</span> "Com a ajuda de oficiais de Chengzhou, defendam o acampamento Gu."
<br/><br/>
De acordo com esta regra, o objeto direto com a preposição <span class="example">眔 dà</span> também deve vir entre o advérbio e o predicado: <span class="example">走其眔厥子子孫孫萬年用 zǒu qí dà jué zǐ zǐ sūn sūn wàn nián yòng</span> "Zou desfrutará [disso] por dez mil anos, junto com seus filhos e netos."
<br/><br/>
Finalmente, deve-se notar que a preposição <span class="example">眔 dà</span>, em suas propriedades gramaticais, pertence ao mesmo grupo que <span class="example">以 yǐ</span>. As preposições deste grupo permitem a omissão do objeto indireto antes do predicado (para esta característica da preposição <span class="example">以 yǐ</span>, veja abaixo, 21.5). Por isso, a preposição <span class="example">眔 dà</span> no texto não é necessariamente seguida por um nome: se o objeto indireto invertido introduzido por <span class="example">眔 dà</span> for omitido, a preposição é imediatamente seguida pelo predicado.
<br/><br/>
<h2>TAREFA DE ESTUDO INDEPENDENTE</h2>
<ol>
<li>Reescreva o texto, adicionando pontuação.</li>
<li>Faça uma análise gramatical do texto.</li>
<li>Traduza o texto para o russo.</li>
<li>Traduza as seguintes frases para o chinês antigo:
<ol type="1">
<li>Cinco jarras de vinho mais três jarras equivalem a oito jarras.</li>
<li>Se você começou a aprender a atirar, eu lhe darei um feixe de flechas.</li>
<li>Avise-me sobre o pedido dele.</li>
<li>Já me desculpei com este homem.</li>
</ol>
</li>
</ol>
</p></h3></div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>
<!-- ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="lexicon">
<h2>ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ</h2>
<h3>18.А. Церемония первой борозды</h3>
<p class="original">
        В системе религиозных представлений чжоусцев значительное место занимает культ земли, с которым связан ритуал «первой борозды». Ежегодно в определенный день весны Сын Неба во главе своих приближенных приезжал на специальное священное поле. Совершив обряд принесения жертв, правитель вскапывал борозду на поле, после чего его примеру следовали все остальные присутствующие на церемонии. Этот обряд, несомненно, в пережиточной форме отражал давно ушедшие в прошлое порядки, согласно которым верховный правитель участвовал в общественно полезном труде.
    </p>
<h3>18.Б. «Подданный»</h3>
<p class="original">
        Вопрос об интерпретации чжоуского термина <span class="example">臣 chén</span> имеет длительную историю. Ряд исследователей считают, что так обозначались рабы. С другой стороны, есть тексты, в которых такое значение термина не может считаться правомерным. Более вероятно, что словом <span class="example">臣 chén</span> в раннечжоуское время обозначались лица, связанные с представителем более высокого социального ранга отношениями подчинения в широком смысле. Подданным был по отношению к господину раб, а аристократ был в свою очередь подданным по отношению к чжухоу и в конечном счете — к вану.
    </p>
<h3>18.В. Арифметические действия</h3>
<p class="original">
        В тексте урока 18 мы встречаемся со своего рода примером арифметического действия, в данном случае сложения. Древние китайцы не выработали способа записи действий в виде формул. Примеры на сложение, вычитание и т. д. фиксировались ими описательно. В частности, слагаемые, одно из которых становилось подлежащим, а другое дополнением, соединялись предикативом <span class="example">遺 wèi</span>. Знак равенства передавался предикативом <span class="example">為 wéi</span> «делать», «составлять».
    </p>
</div>
<!-- ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ -->
<div class="assignment">
<h2>ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ</h2>
<ol>
<li>Перепишите текст, расставив знаки препинания.</li>
<li>Проделайте грамматический анализ текста.</li>
<li>Переведите текст на русский язык.</li>
<li>Переведите на древнекитайский следующие предложения:
            <ol type="1">
<li>Пять кувшинов вина плюс три кувшина равняется восьми кувшинам.</li>
<li>Если ты начал учиться стрелять, то я подарю тебе пучок стрел.</li>
<li>Уведоми меня о его приказе.</li>
<li>Я уже просил прощения у этого человека.</li>
</ol>
</li>
</ol>
</div>
<div class="footer">
Livro didático: V. A. Kryukov - Língua Chinesa Antiga Arcaica.<br>
Restaurado usando OCR, preservando o estilo do autor e adicionando pinyin.<br>
Todos os caracteres são dos textos das Lições 1 a 18, ou de caracteres cíclicos (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
<script id="help" src="../help.js"></script>
</body>
</html>